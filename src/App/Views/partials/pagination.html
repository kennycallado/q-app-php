{% if pagination is defined %}

{% set total = pagination.total %}
{% set limit = pagination.limit %}
{% set start = pagination.start %}
{% set current = start / limit + 1 %}
{% set pages = total // limit %}

{% set prev = current - 1 %}
{% set next = current + 1 %}

{% set prev_disabled = current == 1 ? 'disabled' : '' %}
{% set next_disabled = current == pages ? 'disabled' : '' %}

<tr class="mt-3" aria-label="Pagination">
    <td class="border-0" colspan="5">
        <nav class="mt-1" aria-label="Page navigation example">

            <ul
                hx-push-url="true"
                class="m-0 pagination justify-content-center">
                <li class="page-item {{ prev_disabled }}">
                    <a
                        hx-trigger="click"
                        hx-get="{{ pagination.base }}?start={{ (prev - 1) * limit }}"
                        hx-target="#main-container"

                        href="{{ pagination.base }}?start={{ (prev - 1) * limit }}"
                        class="page-link py-1"
                        aria-label="Previous">
                        <i class="bi bi-chevron-left"></i>
                    </a>
                </li>

                {% for page in 1..pages %}
                <li class="page-item {{ page == current ? 'active' : '' }}">
                    <a
                        hx-trigger="click"
                        hx-get="{{ pagination.base }}?start={{ (page - 1) * limit }}"
                        hx-target="#main-container"

                        href="{{ pagination.base }}?start={{ (page - 1) * limit }}"
                        class="page-link py-1">
                        {{ page }}
                    </a>
                </li>
                {% endfor %}

                <li class="page-item {{ next_disabled }}">
                    <a
                        hx-trigger="click"
                        hx-get="{{ pagination.base }}?start={{ (next - 1) * limit }}"
                        hx-target="#main-container"

                        href="{{ pagination.base }}?start={{ (next - 1) * limit }}"
                        class="page-link py-1"
                        aria-label="Next">
                        <i class="bi bi-chevron-right"></i>
                    </a>
                </li>

            </ul>
        </nav>
    </td>
</tr>

{% endif %}
